(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarContextNext=t.SnackbarContext=void 0;var a,r=n(0),o=(a=r)&&a.__esModule?a:{default:a};var i=o.default.createContext(),l=o.default.createContext();t.SnackbarContext=i,t.SnackbarContextNext=l},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TRANSITION_DELAY=150,t.TRANSITION_DOWN_DURATION=200},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variantIcon=t.TransitionComponent=t.muiClasses=t.getMuiClasses=t.getTransitionDirection=t.defaultAnchorOrigin=t.capitalise=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=l(n(0)),o=l(n(83)),i=l(n(27));function l(e){return e&&e.__esModule?e:{default:e}}var c={opacity:.9,fontSize:20,marginRight:8},s={success:r.default.createElement(function(e){return r.default.createElement(i.default,e,r.default.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}))},{style:c}),warning:r.default.createElement(function(e){return r.default.createElement(i.default,e,r.default.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},{style:c}),error:r.default.createElement(function(e){return r.default.createElement(i.default,e,r.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41, 20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53, 2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16, 14.59L13.41,12L16,9.41L14.59,8Z"}))},{style:c}),info:r.default.createElement(function(e){return r.default.createElement(i.default,e,r.default.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}))},{style:c})},u={right:"left",left:"right",bottom:"up",top:"down"},m={vertical:"bottom",horizontal:"left"},f={root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}};t.capitalise=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.defaultAnchorOrigin=m,t.getTransitionDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return"center"!==e.horizontal?u[e.horizontal]:u[e.vertical]},t.getMuiClasses=function(e){return Object.keys(e).filter(function(e){return void 0!==f[e]}).reduce(function(t,n){return a({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e[n]))},{})},t.muiClasses=f,t.TransitionComponent=function(e){return r.default.createElement(o.default,e)},t.variantIcon=s},141:function(e,t,n){},143:function(e,t,n){e.exports=n.p+"static/media/js-logo.0cded3a3.png"},164:function(e,t,n){e.exports=n(359)},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=m(o),l=m(n(2)),c=n(102),s=n(103),u=m(n(176));function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={snacks:[]},r.queue=[],r.handlePresentSnackbar=function(e,t){r.queue.push({message:t,variant:e,open:!0,key:(new Date).getTime()+Math.random()}),r.handleDisplaySnack()},r.handleEnqueueSnackbar=function(e,t){var n=t.key,o=d(t,["key"]),i=n||(new Date).getTime()+Math.random();return r.queue.push(a({key:i,message:e},o,{open:!0})),r.handleDisplaySnack(),i},r.handleDisplaySnack=function(){var e=r.props.maxSnack;return r.state.snacks.length>=e?r.handleDismissOldest():r.processQueue()},r.processQueue=function(){if(r.queue.length>0){var e=r.queue.shift();r.setState(function(t){var n=t.snacks;return{snacks:[].concat(f(n),[e])}})}},r.handleDismissOldest=function(){r.setState(function(e){return{snacks:e.snacks.filter(function(e){return!0===e.open}).map(function(e,t){return 0===t?a({},e,{open:!1}):a({},e)})}})},r.handleCloseSnack=function(e,t,n){r.setState(function(e){return{snacks:e.snacks.map(function(e){return e.key===n?a({},e,{open:!1}):a({},e)})}}),r.props.onClose&&r.props.onClose(e,t,n)},r.handleExitedSnack=function(e,t){var n=s.TRANSITION_DELAY+s.TRANSITION_DOWN_DURATION+40;r.setState(function(e){return{snacks:e.snacks.filter(function(e){return e.key!==t})}},function(){return setTimeout(r.handleDisplaySnack,n)}),r.props.onExited&&r.props.onExited(e,t)},r.handleSetHeight=function(e,t){r.setState(function(n){return{snacks:n.snacks.map(function(n){return n.key===e?a({},n,{height:t}):a({},n)})}})},h(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.maxSnack,d(t,["children","maxSnack"])),l=this.state.snacks;return i.default.createElement(c.SnackbarContext.Provider,{value:this.handlePresentSnackbar},i.default.createElement(c.SnackbarContextNext.Provider,{value:{handleEnqueueSnackbar:this.handleEnqueueSnackbar,handleCloseSnackbar:this.handleCloseSnack}},i.default.createElement(o.Fragment,null,n,l.map(function(t,n){return i.default.createElement(u.default,a({},r,{key:t.key,snack:t,offset:e.offsets[n],onClose:e.handleCloseSnack,onExited:e.handleExitedSnack,onSetHeight:e.handleSetHeight}))}))))}},{key:"offsets",get:function(){var e=this.state.snacks;return e.map(function(t,n){for(var a=n,r=20;e[a-1];)r+=e[a-1].height+16,a-=1;return r})}}]),t}();p.propTypes={children:l.default.element.isRequired,maxSnack:l.default.number,onClose:l.default.func,onExited:l.default.func},p.defaultProps={maxSnack:3,onClose:void 0,onExited:void 0},t.default=p},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(177),o=(a=r)&&a.__esModule?a:{default:a};t.default=o.default},177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=p(o),l=p(n(5)),c=p(n(2)),s=n(8),u=p(n(40)),m=p(n(235)),f=p(n(120)),d=n(244),h=n(121);function p(e){return e&&e.__esModule?e:{default:e}}function k(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClose=function(e){return function(t,a){var r=n.props,o=r.onClose,i=r.snack.onClose;"clickaway"!==a&&(i&&i(t,a,e),o(t,a,e))}},n.handleExited=function(e){return function(t){var a=n.props,r=a.onExited,o=a.snack.onExited;o&&o(t,e),r(t,e)}},n.componentDidMount=function(){var e=n.props,t=e.onSetHeight,a=e.snack,r=n.ref.current.clientHeight;t(a.key,r)},n.ref=i.default.createRef(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.action,r=e.anchorOrigin,o=void 0===r?h.defaultAnchorOrigin:r,c=e.ContentProps,s=void 0===c?{}:c,p=e.hideIconVariant,g=e.iconVariant,E=e.offset,v=e.snack,b=e.style,y=e.onClickAction,w=(e.onSetHeight,k(e,["classes","action","anchorOrigin","ContentProps","hideIconVariant","iconVariant","offset","snack","style","onClickAction","onSetHeight"])),C=s.action,S=s.className,x=k(s,["action","className"]),T=v.key,O=v.variant,D=void 0===O?"default":O,P=k(v,["key","variant"]),N=g[D],R=a({},x,P.ContentProps,{action:v.action||C||n}),A=v.action?v.onClickAction:y;A=A||this.handleClose(T);var L=P.anchorOrigin||o;return i.default.createElement(u.default,{rootRef:this.ref},i.default.createElement(m.default,a({autoHideDuration:5e3,anchorOrigin:L,TransitionComponent:h.TransitionComponent,TransitionProps:{direction:(0,h.getTransitionDirection)(L)},style:a({},b,(0,d.getTransitionStyles)(E,L))},w,P,{open:v.open,classes:(0,h.getMuiClasses)(t),onClose:this.handleClose(T),onExited:this.handleExited(T)}),v.children||i.default.createElement(f.default,a({className:(0,l.default)(t.base,t["variant"+(0,h.capitalise)(D)],!p&&N?t.lessPadding:null,S)},R,{"aria-describedby":"client-snackbar",message:i.default.createElement("span",{id:"client-snackbar",className:t.message},p?null:N,v.message),action:R.action&&i.default.createElement("span",{onClick:A},R.action)}))))}}]),t}();g.propTypes={classes:c.default.object.isRequired,offset:c.default.number.isRequired,snack:c.default.shape({message:c.default.oneOfType([c.default.string,c.default.node]).isRequired,variant:c.default.oneOf(["default","error","success","warning","info"]),onClickAction:c.default.func,key:c.default.oneOfType([c.default.string,c.default.number]).isRequired,open:c.default.bool.isRequired}).isRequired,iconVariant:c.default.shape({success:c.default.any.isRequired,warning:c.default.any.isRequired,error:c.default.any.isRequired,info:c.default.any.isRequired}),hideIconVariant:c.default.bool,onClickAction:c.default.func,onClose:c.default.func.isRequired,onExited:c.default.func.isRequired,onSetHeight:c.default.func.isRequired},g.defaultProps={iconVariant:h.variantIcon,hideIconVariant:!1,onClickAction:void 0},t.default=(0,s.withStyles)(d.styles)(g)},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionStyles=t.styles=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(60)),o=c(n(245)),i=n(121),l=n(103);function c(e){return e&&e.__esModule?e:{default:e}}t.styles=function(e){return a({},i.muiClasses,{base:{fontSize:"0.875rem",lineHeight:"1.46429em",fontWeight:e.typography.fontWeightRegular,fontFamily:e.typography.fontFamily},lessPadding:{paddingLeft:2.5*e.spacing.unit},variantSuccess:{backgroundColor:r.default[600]},variantError:{backgroundColor:e.palette.error.dark},variantInfo:{backgroundColor:"#2979ff"},variantWarning:{backgroundColor:o.default[700]},message:{display:"flex",alignItems:"center"}})},t.getTransitionStyles=function(e,t){return Object.assign((n={},a=t.vertical,r=e,a in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n),{WebKitTransition:"all "+l.TRANSITION_DOWN_DURATION+"ms",MozTransition:"all "+l.TRANSITION_DOWN_DURATION+"ms",msTransition:"all "+l.TRANSITION_DOWN_DURATION+"ms",OTransition:"all "+l.TRANSITION_DOWN_DURATION+"ms",transition:"all "+l.TRANSITION_DOWN_DURATION+"ms",transitionDelay:l.TRANSITION_DELAY+"ms"});var n,a,r}},247:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),i=(a=o)&&a.__esModule?a:{default:a},l=n(102);t.default=function(e){return function(t){return i.default.createElement(l.SnackbarContext.Consumer,null,function(n){return i.default.createElement(l.SnackbarContextNext.Consumer,null,function(a){return i.default.createElement(e,r({},t,{onPresentSnackbar:n,enqueueSnackbar:a.handleEnqueueSnackbar,closeSnackbar:a.handleCloseSnackbar}))})})}}},325:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(21),l=n.n(i),c=n(62),s=n.n(c),u=n(97),m=n(72),f=n(45),d=n(46),h=n(47),p=n(52),k=n(51),g=n(28),E=n(74),v=n.n(E),b=n(91),y=n.n(b),w=n(98),C=n(96),S=n.n(C),x=n(162),T=n.n(x),O=n(20),D=n.n(O),P=n(8),N=n(48),R=n.n(N),A=n(25),L=n.n(A),M=n(161),j=n.n(M),I=n(17),Q=n.n(I),_=n(143),F=n.n(_),q={container:{display:"flex",flexDirection:"row",alignItems:"center"},jsLogo:{width:40,marginTop:5,marginBottom:5,marginRight:15,marginLeft:15,cursor:"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"}},H=function(e){var t=e.onClickLogo;return o.a.createElement("div",{style:q.container},o.a.createElement("img",{style:q.jsLogo,src:F.a,alt:"",onClick:t}),o.a.createElement(Q.a,{variant:"h5",color:"inherit"},"JavaScript Visualizer 9000"))},z=n(19),B=n.n(z),W=n(145),V=n.n(W),U=n(144),J=n.n(U),G=n(146),Y=n.n(G),Z=n(60),K=n.n(Z),X=function(e){return Object(P.createMuiTheme)({palette:{primary:e},typography:{useNextVariants:!0}})},$=X(K.a),ee=function(e){return o.a.createElement(D.a,{theme:$},o.a.createElement(B.a,e))},te=X(L.a),ne=function(e){return o.a.createElement(D.a,{theme:te},o.a.createElement(B.a,e))},ae=Object(P.withStyles)(function(e){return{button:{margin:e.spacing.unit,color:"white"},rightIcon:{marginLeft:e.spacing.unit,color:"white"},wrapper:{position:"relative"},buttonProgress:{color:R.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(function(e){var t=e.classes,n=e.mode,a=e.runDisabled,r=e.onClickRun,i=e.onClickEdit;return o.a.createElement("div",null,"editing"===n||"running"===n?o.a.createElement("div",{className:t.wrapper},o.a.createElement(ee,{color:"primary",variant:"contained",className:t.button,disabled:a||"running"===n,onClick:r},"Run",o.a.createElement(J.a,{className:t.rightIcon},"Run")),"running"===n&&o.a.createElement(V.a,{size:24,className:t.buttonProgress})):"visualizing"===n?o.a.createElement(ne,{color:"primary",variant:"contained",className:t.button,onClick:i},"Edit",o.a.createElement(Y.a,{className:t.rightIcon},"Edit")):new Error("Invalid mode: ".concat(n)))}),re=n(163),oe=n(22),ie=n.n(oe),le=n(93),ce=n.n(le),se=n(148),ue=n.n(se),me=n(147),fe=n.n(me),de=n(92),he=(a=n.n(de).a,Object(P.createMuiTheme)({palette:{primary:a},typography:{useNextVariants:!0}})),pe=o.a.forwardRef(function(e,t){return o.a.createElement(D.a,{theme:he},o.a.createElement(B.a,Object.assign({},e,{buttonRef:t})))}),ke=Object(P.withStyles)(function(e){return{button:{margin:e.spacing.unit,color:"white"},rightIcon:{marginLeft:e.spacing.unit,color:"white"},popover:{width:"40rem",zIndex:1},popoverArrow:{position:"absolute",height:".75rem",width:".75rem",top:"-0.25rem",left:0,right:0,margin:"auto","&::before":{content:'""',position:"absolute",height:".75rem",width:".75rem",top:0,left:0,transform:"translateX(0px) rotate(45deg)",transformOrigin:"center center",backgroundColor:"#ffffff"}},popoverContent:{padding:e.spacing.unit},input:{overflow:"hidden"}}})(function(e){var t=e.classes,n=e.code,a=Object(r.useRef)(null),i=Object(r.useRef)(null),l=Object(r.useState)(!1),c=Object(re.a)(l,2),s=c[0],u=c[1],m=a&&a.current,f=new URL(window.location.href);f.searchParams.set("code",btoa(encodeURIComponent(n)));return Object(r.useEffect)(function(){s&&requestAnimationFrame(function(){i.current.focus()})},[s]),o.a.createElement("div",null,o.a.createElement(pe,{color:"primary",variant:"contained",className:t.button,ref:a,onClick:function(){u(!0)}},"Share",o.a.createElement(fe.a,{className:t.rightIcon},"Run")),o.a.createElement(ce.a,{open:s,anchorEl:m,placement:"bottom",className:t.popover},o.a.createElement("div",{className:t.popoverArrow,"data-popper-arrow":!0}),o.a.createElement(ie.a,{className:t.popoverContent},o.a.createElement(ue.a,{value:f.toString(),className:t.input,readOnly:!0,fullWidth:!0,inputRef:i,onBlur:function(){u(!1)},onFocus:function(){i.current.select(),i.current.scrollLeft=0}}))))}),ge=n(63),Ee=n.n(ge),ve=n(61),be=n.n(ve),ye=n(95),we=n.n(ye),Ce=n(23),Se=n.n(Ce),xe=[{name:"Call Stack",value:"\nfunction tenth() { }\n\nfunction ninth() { tenth() }\n\nfunction eigth() { ninth() }\n\nfunction seventh() { eigth() }\n\nfunction sixth() { seventh() }\n\nfunction fifth() { sixth() }\n\nfunction fourth() { fifth() }\n\nfunction third() { fourth() }\n\nfunction second() { third() }\n\nfunction first() { second() }\n\nfirst();\n".trim()},{name:"Task Queue",value:"\nsetTimeout(function a() {}, 1000);\n\nsetTimeout(function b() {}, 500);\n\nsetTimeout(function c() {}, 0);\n\nfunction d() {}\n\nd();\n".trim()},{name:"Microtask Queue",value:"\nfetch('https://www.google.com')\n  .then(function a() {});\n\nPromise.resolve()\n  .then(function b() {});\n\nPromise.reject()\n  .catch(function c() {});\n".trim()},{name:"Tasks vs Microtasks",value:"\nsetTimeout(function a() {}, 0);\n\nPromise.resolve().then(function b() {});\n".trim()}],Te=[{name:"Promise.all() vs Promise.race()",value:"\nconst GOOGLE = 'https://www.google.com';\nconst NEWS = 'https://www.news.google.com';\n\n/* b, c, after */\nPromise.all([\n  fetch(GOOGLE).then(function b() {}),\n  fetch(GOOGLE).then(function c() {}),\n]).then(function after() {});\n\n/* b, after, c */\n// Promise.race([\n//   fetch(GOOGLE).then(function b() {}),\n//   fetch(GOOGLE).then(function c() {}),\n// ]).then(function after() {});\n\n/* c, after, b */\n// Promise.race([\n//   fetch(NEWS).then(function b() {}),\n//   fetch(GOOGLE).then(function c() {}),\n// ]).then(function after() {});\n".trim()},{name:"Promises and Errors",value:"\nPromise.resolve()\n  .then(function a() {\n    Promise.resolve().then(function d() {})\n    Promise.resolve().then(function e() {})\n    throw new Error('OH TEH NOEZ!')\n    Promise.resolve().then(function f() {})\n  })\n  .catch(function b() {})\n  .then(function c() {})\n".trim()},{name:"Nested Promise Chain",value:"\nPromise.resolve()\n  .then(function a() {\n    Promise.resolve().then(function c() {});\n  })\n  .then(function b() {\n    Promise.resolve().then(function d() {});\n  });\n".trim()},{name:"Wrapping setTimeout in Promise",value:"\nconst pause = (millis) =>\n  new Promise(resolve => setTimeout(resolve, millis));\n\nconst start = Date.now();\nconsole.log('Start');\n\npause(1000).then(() => {\n  const end = Date.now();\n  const secs = (end - start) / 1000;\n  console.log('End:', secs);\n});\n".trim()}],Oe=[{name:"Naive Primes",value:"\nfunction isPrime(n) {\n  for (let i = 2; i < n; i++) {\n    if (n % i === 0) return false;\n  }\n  return true;\n}\n\nfunction computePrimes(onPrime, startAt = 1) {\n  let currNum;\n  for (currNum = startAt; true; currNum++) {\n    if (isPrime(currNum)) onPrime(currNum);\n  }\n}\n\ncomputePrimes(prime => {\n  console.log(prime);\n});\n".trim()},{name:"Primes with Tasks",value:"\nfunction isPrime(n) {\n  for (let i = 2; i < n; i++) {\n    if (n % i === 0) return false;\n  }\n  return true;\n}\n\nfunction computePrimes(onPrime, startAt = 1) {\n  let currNum;\n  for (currNum = startAt; currNum % 5 !== 0; currNum++) {\n    if (isPrime(currNum)) onPrime(currNum);\n  }\n  setTimeout(() => {\n    computePrimes(onPrime, currNum + 1);\n  }, 0);\n}\n\ncomputePrimes(prime => {\n  console.log(prime);\n});\n".trim()},{name:"Primes with Microtasks",value:"\nfunction isPrime(n) {\n  for (let i = 2; i < n; i++) {\n    if (n % i === 0) return false;\n  }\n  return true;\n}\n\nfunction computePrimes(onPrime, startAt = 1) {\n  let currNum;\n  for (currNum = startAt; currNum % 5 !== 0; currNum++) {\n    if (isPrime(currNum)) onPrime(currNum);\n  }\n  Promise.resolve().then(() => {\n    computePrimes(onPrime, currNum + 1);\n  });\n}\n\ncomputePrimes(prime => {\n  console.log(prime);\n});\n".trim()}],De=Object(P.withStyles)(function(e){return{form:{display:"flex",flexWrap:"wrap",marginLeft:e.spacing.unit,width:"100%"},formControl:{margin:e.spacing.unit,minWidth:120,width:"100%"},selectEmpty:{marginTop:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.example,a=e.locked,r=e.onChangeExample;return o.a.createElement("form",{className:t.form,autoComplete:"off"},o.a.createElement(be.a,{className:t.formControl},o.a.createElement(we.a,{value:n,onChange:r,disabled:a},o.a.createElement(Ee.a,{value:"none"},o.a.createElement("em",null,"Choose an Example")),o.a.createElement(Se.a,null),xe.map(function(e){var t=e.name,n=e.value;return o.a.createElement(Ee.a,{key:t,value:n},t)}),o.a.createElement(Se.a,null),Te.map(function(e){var t=e.name,n=e.value;return o.a.createElement(Ee.a,{key:t,value:n},t)}),o.a.createElement(Se.a,null),Oe.map(function(e){var t=e.name,n=e.value;return o.a.createElement(Ee.a,{key:t,value:n},t)}))))}),Pe=n(149),Ne=n.n(Pe),Re=(n(90),n(322),n(324),n(325),["#AFF8D8","#FFCBC1","#FBE4FF","#D8FFD8","#C4FAF8","#E7FFAC","#ACE7FF","#FFABAB","#FFB5E8"]),Ae=function(e){return e%Re.length},Le=function(e){return Re[Ae(e)]},Me=function(e,t){for(var n=0,a=0,r=0;r<t;)if(n+=1,"\n"===e[r-1]&&(a+=1,n=1),(r+=1)>=e.length)throw new Error("head=".concat(r,", code.length=").concat(e.length));return"\n"===e[r-1]&&(a+=1,n=0),{row:a,col:n}},je=Object(P.withStyles)(function(e){return{root:Object(f.a)({},e.mixins.gutters(),{paddingTop:1*e.spacing.unit,paddingBottom:1*e.spacing.unit,margin:e.spacing.unit,backgroundColor:e.palette.primary.main,height:"100%",display:"flex"})}})(function(e){var t=e.classes,n=e.code,a=void 0===n?"":n,r=e.markers,i=void 0===r?[]:r,l=e.onChangeCode,c=void 0===l?void 0:l,s=e.locked,u=void 0!==s&&s;return o.a.createElement(ie.a,{className:t.root,elevation:1},o.a.createElement(Ne.a,{style:{maxWidth:500,height:"100%",marginLeft:-15,marginRight:-15},readOnly:u,value:a,mode:"javascript",theme:"solarized_light",onChange:c,name:"code-editor",fontSize:14,tabSize:2,markers:i.map(function(e,t){var n=e.start,r=e.end;return{startRow:Me(a,n).row,startCol:Me(a,n).col,endRow:Me(a,r).row,endCol:Me(a,r).col,className:"active-function-marker".concat(Ae(t)),type:"text"}}),showGutter:!0,highlightActiveLine:!u,showLineNumbers:!0,editorProps:{$blockScrolling:1/0},focus:!0}))}),Ie=n(53),Qe=n(73),_e=n(40),Fe=n.n(_e),qe=n(49),He=n.n(qe),ze=n(50),Be=n.n(ze),We=(n(141),n(151)),Ve=n.n(We),Ue=function(e){return Object(P.createMuiTheme)({palette:{primary:e},typography:{useNextVariants:!0}})}(L.a),Je=function(e){return o.a.createElement(D.a,{theme:Ue},o.a.createElement(B.a,e))},Ge={container:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},Ye=Object(P.withStyles)(function(e){return{header:{padding:0},margin1:{},margin2:{marginRight:25}}})(function(e){var t=e.classes,n=e.slideButtonLeft,a=void 0!==n&&n,r=e.title,i=e.onClickAbout;return o.a.createElement("div",{style:Ge.container},o.a.createElement(Ve.a,{title:r,className:t.header}),o.a.createElement(Je,{color:"primary",size:"small",className:a?t.margin2:t.margin1,onClick:i},"About"))});function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(g.a)(e);if(t){var r=Object(g.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(k.a)(this,n)}}var Ke=o.a.forwardRef(function(e,t){var n=e.classes,a=e.name,r=e.style;return o.a.createElement(Fe.a,{rootRef:t},o.a.createElement(ie.a,{ref:t,style:r,className:n.frame,elevation:1},o.a.createElement(Q.a,{variant:"h6",color:"inherit"},a)))}),Xe=Object(Ie.b)(Ke)({enter:{y:0,opacity:1,width:165,transition:{y:{type:"tween"}}},exit:{y:-200,opacity:0,height:30,width:165,transition:{y:{type:"tween"}}}}),$e=function(e){Object(p.a)(n,e);var t=Ze(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={width:void 0,height:void 0},e.handleResize=function(t){var n=t.bounds,a=n.width,r=n.height;e.setState({width:a,height:r})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.frames,a=e.onClickAbout,r=this.state,i=r.width,l=r.height;return o.a.createElement(He.a,{className:t.card},o.a.createElement(Be.a,{className:t.content},o.a.createElement(Ye,{title:"Call Stack",onClickAbout:a}),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},o.a.createElement(Qe.a,{bounds:!0,onResize:this.handleResize},function(e){var t=e.measureRef;return o.a.createElement("div",{ref:t,style:{flex:1}})}),o.a.createElement("div",{style:{width:i,height:l,position:"absolute"},className:"scroll-on-hover-y"},o.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse",minHeight:l}},o.a.createElement(Ie.a,null,n.map(function(e,n){var a=e.id,r=e.name;return o.a.createElement(Xe,{key:a,classes:t,name:r,style:{backgroundColor:Le(n)}},r)})))))))}}]),n}(o.a.Component),et=Object(P.withStyles)(function(e){return{card:{margin:e.spacing.unit,maxWidth:230,minWidth:230,flex:1,display:"flex",flexDirection:"column",backgroundColor:e.palette.primary.main},content:{width:200,flex:1,display:"flex",flexDirection:"column"},frame:{width:165,height:30,paddingTop:1*e.spacing.unit,paddingBottom:1*e.spacing.unit,paddingLeft:1*e.spacing.unit,paddingRight:1*e.spacing.unit,margin:e.spacing.unit,marginRight:1.5*e.spacing.unit,textAlign:"center"}}})($e);function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(g.a)(e);if(t){var r=Object(g.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(k.a)(this,n)}}var nt=o.a.forwardRef(function(e,t){var n=e.classes,a=e.name;return o.a.createElement(Fe.a,{rootRef:t},o.a.createElement(ie.a,{ref:t,className:n.task,elevation:1},o.a.createElement(Q.a,{style:{fontSize:20},color:"inherit"},a)))}),at=Object(Ie.b)(nt)({preEnter:{x:200,opacity:1,height:25,width:140,transition:{x:{type:"tween"}}},enter:{x:0,opacity:1,transition:{x:{type:"tween"}}},exit:{x:-200,opacity:0,height:25,width:140,transition:{x:{type:"tween"}}}}),rt=function(e){Object(p.a)(n,e);var t=tt(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={width:void 0,height:void 0},e.handleResize=function(t){var n=t.bounds,a=n.width,r=n.height;e.setState({width:a,height:r})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tasks,a=e.title,r=e.onClickAbout,i=this.state,l=i.width,c=i.height;return o.a.createElement(He.a,{className:t.card},o.a.createElement(Be.a,{className:t.content},o.a.createElement(Ye,{title:a,onClickAbout:r,slideButtonLeft:!0}),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},o.a.createElement(Qe.a,{bounds:!0,onResize:this.handleResize},function(e){var t=e.measureRef;return o.a.createElement("div",{ref:t,style:{flex:1}})}),o.a.createElement("div",{style:{width:l,height:c,position:"absolute",display:"flex",flexWrap:"nowrap",flexDirection:"row",paddingBottom:20},className:"scroll-on-hover-x"},o.a.createElement(Ie.a,{preEnterPose:"preEnter"},n.map(function(e,n){var a=e.id,r=e.name;return o.a.createElement(at,{key:a,classes:t,name:r,style:{backgroundColor:Re[n]}},r)}))))))}}]),n}(o.a.Component),ot=Object(P.withStyles)(function(e){return{card:{maxHeight:140,margin:e.spacing.unit,height:120,backgroundColor:e.palette.primary.main,display:"flex"},content:{display:"flex",flexDirection:"column",flex:1},task:{paddingTop:1*e.spacing.unit,paddingBottom:1*e.spacing.unit,paddingLeft:1*e.spacing.unit,paddingRight:1*e.spacing.unit,margin:e.spacing.unit,display:"inline-block",textAlign:"center",minWidth:125}}})(rt),it=n(153),lt=n.n(it),ct=n(154),st=n.n(ct),ut=n(155),mt=n.n(ut),ft=n(152),dt=n.n(ft),ht=Object(P.createMuiTheme)({palette:{primary:L.a},typography:{fontSize:16,useNextVariants:!0}}),pt=["Evaluate Script","Run a Task","Run all Microtasks","Rerender"],kt=["Synchronously execute the script as though it were a function body. Run until the Call Stack is empty.","Select the oldest Task from the Task Queue. Run it until the Call Stack is empty.","Select the oldest Microtask from the Microtask Queue. Run it until the Call Stack is empty. Repeat until the Microtask Queue is empty.","Rerender the UI. Then, return to step 2. (This step only applies to browsers, not NodeJS)."],gt={none:-1,evaluateScript:0,runTask:1,runMicrotasks:2,rerender:3},Et=Object(P.withStyles)(function(e){return{card:{margin:e.spacing.unit,display:"flex",flexDirection:"column",backgroundColor:e.palette.primary.main,flex:1,maxWidth:300,overflowY:"auto"},stepper:{backgroundColor:"transparent"}}})(function(e){var t=e.step,n=e.classes,a=e.onClickAbout;return o.a.createElement(He.a,{className:n.card},o.a.createElement(Be.a,null,o.a.createElement(Ye,{title:"Event Loop",onClickAbout:a}),o.a.createElement(D.a,{theme:ht},o.a.createElement(dt.a,{activeStep:gt[t],orientation:"vertical",className:n.stepper},pt.map(function(e,n){return o.a.createElement(lt.a,{key:e,completed:n<gt[t]},o.a.createElement(st.a,null,o.a.createElement(Q.a,{style:{fontWeight:n===gt[t]?"bold":"normal"}},e)),o.a.createElement(mt.a,null,o.a.createElement(Q.a,null,kt[n])))})))))}),vt=n(75),bt=n.n(vt),yt=n(99),wt=n.n(yt),Ct=n(76),St=n.n(Ct),xt=n(158),Tt=n.n(xt),Ot=n(156),Dt=n.n(Ot),Pt=n(157),Nt=n.n(Pt),Rt=function(e){return Object(P.createMuiTheme)({palette:{primary:e},typography:{useNextVariants:!0}})},At=Rt(K.a),Lt=function(e){return o.a.createElement(D.a,{theme:At},o.a.createElement(bt.a,e))},Mt=Rt(L.a),jt=function(e){return o.a.createElement(D.a,{theme:Mt},o.a.createElement(bt.a,e))},It=Rt(R.a),Qt=function(e){return o.a.createElement(D.a,{theme:It},o.a.createElement(bt.a,e))},_t={container:{display:"flex",flexDirection:"column",alignItems:"flex-end",position:"absolute",bottom:20,right:20,overflow:"hidden"}},Ft=Object(P.withStyles)(function(e){return{fab:{margin:e.spacing.unit,color:"white"},yellowFab:{margin:e.spacing.unit,color:"black"},extendedIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes,n=e.visible,a=e.isAutoPlaying,r=e.hasReachedEnd,i=e.onClickStep,l=(e.onClickStepBack,e.onClickAutoStep),c=e.onClickPauseAutoStep;return o.a.createElement("div",{style:_t.container},!a&&o.a.createElement(wt.a,{style:{transitionDelay:"50ms"},title:"Auto Step","aria-label":"Auto Step",placement:"left"},o.a.createElement("div",null,o.a.createElement(St.a,{in:n&&!a,className:t.fab},o.a.createElement(jt,{color:"primary",size:"medium","aria-label":"auto-play",disabled:r,onClick:l},o.a.createElement(Dt.a,null))))),a&&o.a.createElement(wt.a,{style:{transitionDelay:"50ms"},title:"Pause Auto Step","aria-label":"Pause Auto Step",placement:"left"},o.a.createElement("div",null,o.a.createElement(St.a,{in:n&&a,className:t.yellowFab},o.a.createElement(Qt,{color:"primary",size:"medium","aria-label":"pause",disabled:r,onClick:c},o.a.createElement(Nt.a,null))))),o.a.createElement(St.a,{style:{transitionDelay:"0ms"},in:n},o.a.createElement(Lt,{color:"primary",variant:"extended",size:"large","aria-label":"Delete",className:t.fab,disabled:a||r,onClick:i},o.a.createElement(Tt.a,{className:t.extendedIcon}),"Step")))}),qt=n(159),Ht=n.n(qt),zt=n(94),Bt=n.n(zt),Wt=n(160),Vt=n.n(Wt),Ut=n(64),Jt=n.n(Ut),Gt=n(65),Yt=n.n(Gt),Zt=Object(P.withStyles)(function(e){return{root:{display:"flex"},formControl:{margin:3*e.spacing.unit}}})(function(e){var t=e.classes,n=e.open,a=e.visiblePanels,r=a.taskQueue,i=a.microtaskQueue,l=a.callStack,c=a.eventLoop,s=e.onChange,u=e.onClose;return o.a.createElement(Ht.a,{open:n,onClose:u},o.a.createElement(be.a,{component:"div",className:t.formControl},o.a.createElement(Bt.a,{component:"legend"},"Visible Panels"),o.a.createElement(Vt.a,null,o.a.createElement(Jt.a,{control:o.a.createElement(Yt.a,{checked:r,onChange:s("taskQueue"),value:"Task Queue"}),label:"Task Queue"}),o.a.createElement(Jt.a,{control:o.a.createElement(Yt.a,{checked:i,onChange:s("microtaskQueue"),value:"Microtask Queue"}),label:"Microtask Queue"}),o.a.createElement(Jt.a,{control:o.a.createElement(Yt.a,{checked:l,onChange:s("callStack"),value:"Call Stack"}),label:"Call Stack"}),o.a.createElement(Jt.a,{control:o.a.createElement(Yt.a,{checked:c,onChange:s("eventLoop"),value:"Event Loop"}),label:"Event Loop"}))))}),Kt=n(24),Xt=n.n(Kt),$t=n(32),en=n.n($t),tn=n(35),nn=n.n(tn),an=n(34),rn=n.n(an),on=n(16),ln=n.n(on),cn=n(33),sn=n.n(cn),un=Object(P.withStyles)(function(e){return{actions:{display:"flex",flexDirection:"row",justifyContent:"space-between"},link:{marginLeft:15}}})(function(e){var t=e.classes,n=e.open,a=e.onClose;return o.a.createElement(en.a,{open:n,onClose:a,scroll:"paper","aria-labelledby":"scroll-dialog-title"},o.a.createElement(sn.a,{id:"scroll-dialog-title"},"About the Call Stack"),o.a.createElement(rn.a,null,o.a.createElement(ln.a,null,o.a.createElement("b",null,"TL;DR")," ",o.a.createElement("em",null,"The ",o.a.createElement("b",null,"Call Stack")," tracks function calls. It is a LIFO stack of frames. Each frame represents a function call.")),o.a.createElement("br",null),o.a.createElement(Se.a,null),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The ",o.a.createElement("b",null,"Call Stack")," is a fundamental part of the JavaScript language. It is a record-keeping structure that allows us to perform function calls. Each function call is represented as a frame on the"," ",o.a.createElement("b",null,"Call Stack"),". This is how the JavaScript engine keeps track of which functions have been called and in what order. The JS engine uses this information to ensure execution picks back up in the right spot after a function returns."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"When a JavaScript program first starts executing, the ",o.a.createElement("b",null,"Call Stack")," ","is empty. When the first function call is made, a new frame is pushed onto the top of the ",o.a.createElement("b",null,"Call Stack"),". When that function returns, its frame is popped off of the ",o.a.createElement("b",null,"Call Stack"),".")),o.a.createElement(nn.a,{className:t.actions},o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"https://www.ecma-international.org/ecma-262/9.0/index.html#sec-execution-contexts",target:"_blank",rel:"noreferrer",className:t.link},"Learn more from the JavaScript Spec"),o.a.createElement(B.a,{onClick:a,color:"secondary"},"Ok")))}),mn="\nwhile (EventLoop.waitForTask()) {\n  const taskQueue = EventLoop.selectTaskQueue();\n  if (taskQueue.hasNextTask()) {\n    taskQueue.processNextTask();\n  }\n\n  const microtaskQueue = EventLoop.microTaskQueue;\n  while (microtaskQueue.hasNextMicrotask()) {\n    microtaskQueue.processNextMicrotask();\n  }\n\n  rerender();\n}\n".trim(),fn=Object(P.withStyles)(function(e){return{actions:{display:"flex",flexDirection:"row",justifyContent:"space-between"},link:{marginLeft:15}}})(function(e){var t=e.classes,n=e.open,a=e.onClose;return o.a.createElement(en.a,{open:n,onClose:a,scroll:"paper","aria-labelledby":"scroll-dialog-title"},o.a.createElement(sn.a,{id:"scroll-dialog-title"},"About the Event Loop"),o.a.createElement(rn.a,null,o.a.createElement(ln.a,null,o.a.createElement("b",null,"TL;DR")," ",o.a.createElement("em",null,"The ",o.a.createElement("b",null,"Event Loop")," processes Tasks and Microtasks. It places them into the Call Stack for execution one at a time. It also controls when rerendering occurs.")),o.a.createElement("br",null),o.a.createElement(Se.a,null),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The Event Loop is a looping algorithm that processes the Tasks/Microtasks in the Task Queue and Microtask Queue. It handles selecting the next Task/Microtask to be run and placing it in the Call Stack for execution."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The Event Loop algorithm consists of four key steps:",o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement("b",null,"Evaluate Script:")," Synchronously execute the script as though it were a function body. Run until the Call Stack is empty."),o.a.createElement("li",null,o.a.createElement("b",null,"Run a Task:")," Select the oldest Task from the Task Queue. Run it until the Call Stack is empty."),o.a.createElement("li",null,o.a.createElement("b",null,"Run all Microtasks:")," Select the oldest Microtask from the Microtask Queue. Run it until the Call Stack is empty. Repeat until the Microtask Queue is empty."),o.a.createElement("li",null,o.a.createElement("b",null,"Rerender the UI:")," Rerender the UI. Then, return to step 2. (This step only applies to browsers, not NodeJS)."))),o.a.createElement("br",null),o.a.createElement(ln.a,null,"Let's model the Event Loop with some JavaScript psuedocode:",o.a.createElement("pre",{style:{fontSize:14,marginLeft:16}},o.a.createElement("code",null,mn)))),o.a.createElement(nn.a,{className:t.actions},o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"https://www.w3.org/TR/html52/webappapis.html#event-loops-processing-model",target:"_blank",rel:"noreferrer",className:t.link},"Learn more from the HTML Scripting Spec"),o.a.createElement(B.a,{onClick:a,color:"secondary"},"Ok")))}),dn=Object(P.withStyles)(function(e){return{actions:{display:"flex",flexDirection:"row",justifyContent:"space-between"},link:{marginLeft:15}}})(function(e){var t=e.classes,n=e.open,a=e.onClose;return o.a.createElement(en.a,{open:n,onClose:a,scroll:"paper","aria-labelledby":"scroll-dialog-title"},o.a.createElement(sn.a,{id:"scroll-dialog-title"},"About the Task Queue"),o.a.createElement(rn.a,null,o.a.createElement(ln.a,null,o.a.createElement("b",null,"TL;DR")," ",o.a.createElement("em",null,"The ",o.a.createElement("b",null,"Task Queue")," is a FIFO queue of Tasks that are going to be executed by the Event Loop. Tasks are synchronous blocks of code that can enqueue other Tasks while they're running.")),o.a.createElement("br",null),o.a.createElement(Se.a,null),o.a.createElement("br",null),o.a.createElement(ln.a,null,"If the Call Stack keeps track of the functions that are executing right now, then the ",o.a.createElement("b",null,"Task Queue")," keeps track of functions that are going to be executed in the future."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The ",o.a.createElement("b",null,"Task Queue")," is a FIFO queue of Tasks that are processed by the Event Loop. Tasks are synchronous blocks of code. You can think of them as Function objects."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The Event Loop works by continuously looping through the"," ",o.a.createElement("b",null,"Task Queue")," and processing the Tasks it contains one by one. A single iteration of the Event Loop is called a tick."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"To process a Task, the Event Loop invokes the Function associated with it. While a Task is running, it has exclusive access to the Call Stack. The Event Loop waits to process the next Task until the current Task is finished, and the Call Stack is empty."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"While a Task is running, it can enqueue other Tasks to be processed in subsequent ticks of the Event Loop. There are several ways to do this, the simplest of which is ",o.a.createElement("code",null,"setTimeout(taskFn, 0)"),". Tasks can also come from external sources such as DOM and network events.")),o.a.createElement(nn.a,{className:t.actions},o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"https://www.w3.org/TR/html52/webappapis.html#task-queues",target:"_blank",rel:"noreferrer",className:t.link},"Learn more from the HTML Scripting Spec"),o.a.createElement(B.a,{onClick:a,color:"secondary"},"Ok")))}),hn=Object(P.withStyles)(function(e){return{actions:{display:"flex",flexDirection:"row",justifyContent:"space-between"},link:{marginLeft:15}}})(function(e){var t=e.classes,n=e.open,a=e.onClose;return o.a.createElement(en.a,{open:n,onClose:a,scroll:"paper","aria-labelledby":"scroll-dialog-title"},o.a.createElement(sn.a,{id:"scroll-dialog-title"},"About the Microtask Queue"),o.a.createElement(rn.a,null,o.a.createElement(ln.a,null,o.a.createElement("b",null,"TL;DR")," ",o.a.createElement("em",null,"The ",o.a.createElement("b",null,"Microtask Queue")," was added in ES6 to handle Promises. It's a lot like the Call Stack. The main difference is how Microtasks are enqueued and when they are processed.")),o.a.createElement("br",null),o.a.createElement(Se.a,null),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The ",o.a.createElement("b",null,"Microtask Queue")," is a FIFO queue of Microtasks that are processed by the Event Loop. The ",o.a.createElement("b",null,"Microtask Queue")," is very similar to the Task Queue. It was added to JavaScript's execution model as part of ES6 in order to handle Promise resolution callbacks."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"Microtasks are a lot like Tasks. They are synchronous blocks of code (think of them as Function objects) that have exclusive access to the Call Stack while running. And just like Tasks, Microtasks are able to enqueue additional Microtasks or Tasks to be run next."),o.a.createElement("br",null),o.a.createElement(ln.a,null,"The only difference between Microtasks and Tasks is where they are stored, and when they are processed.",o.a.createElement("ul",null,o.a.createElement("li",null,"Tasks are stored in Task Queues. But Microtasks are stored in the"," ",o.a.createElement("b",null,"Microtask Queue")," (there's only one of these)."),o.a.createElement("li",null,"Tasks are processed in a loop, and rendering is performed in-between Tasks. But the ",o.a.createElement("b",null,"Microtask Queue")," is emptied out after a Task completes, and before re-rendering occurs.")))),o.a.createElement(nn.a,{className:t.actions},o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"https://www.w3.org/TR/html52/webappapis.html#microtask-queue",target:"_blank",rel:"noreferrer",className:t.link},"Learn more from the HTML Scripting Spec"),o.a.createElement(B.a,{onClick:a,color:"secondary"},"Ok")))}),pn=Object(P.withStyles)(function(e){return{root:{marginBottom:e.spacing.unit}}})(function(e){var t=e.classes;return o.a.createElement(Q.a,{variant:"body1",color:"inherit",className:t.root,align:"center"},"Built by"," ",o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"https://github.com/Hopding/",target:"_blank",rel:"noreferrer"},"Andrew Dillon"),". Inspired by"," ",o.a.createElement(Xt.a,{variant:"body1",color:"secondary",href:"http://latentflip.com/loupe/",target:"_blank",rel:"noreferrer"},"Loupe"),".")}),kn=Object(P.createMuiTheme)({palette:{primary:R.a,secondary:L.a},typography:{useNextVariants:!0}}),gn={container:{backgroundColor:j.a[100],width:"100vw",height:"100vh",display:"flex",flexDirection:"row",overflow:"hidden"},leftContainer:{display:"flex",flexDirection:"column"},rightContainer:{display:"flex",flexDirection:"column",flex:1},codeControlsContainer:{display:"flex",flexDirection:"row",alignItems:"center"},bottomRightContainer:{display:"flex",flex:1,flexDirection:"row",overflow:"hidden"}},En=function(e){e.classes;var t=e.mode,n=e.example,a=e.code,r=e.tasks,i=e.microtasks,l=e.frames,c=e.markers,s=e.visiblePanels,u=e.isAutoPlaying,m=e.isDrawerOpen,f=e.showCallStackDescription,d=e.showEventLoopDescription,h=e.showTaskQueueDescription,p=e.showMicrotaskQueueDescription,k=e.hasReachedEnd,g=e.currentStep,E=e.onChangeVisiblePanel,v=e.onCloseDrawer,b=e.onOpenDrawer,y=e.onChangeExample,w=e.onChangeCode,C=e.onClickRun,S=e.onClickEdit,x=e.onClickPauseAutoStep,T=e.onClickAutoStep,O=e.onClickStepBack,P=e.onClickStep,N=e.onShowCallStackDescription,R=e.onHideCallStackDescription,A=e.onShowEventLoopDescription,L=e.onHideEventLoopDescription,M=e.onShowTaskQueueDescription,j=e.onHideTaskQueueDescription,I=e.onShowMicrotaskQueueDescription,Q=e.onHideMicrotaskQueueDescription;return o.a.createElement("div",{style:gn.container},o.a.createElement(D.a,{theme:kn},o.a.createElement(Zt,{open:m,visiblePanels:s,onChange:E,onClose:v}),o.a.createElement("div",{style:gn.leftContainer},o.a.createElement(H,{onClickLogo:b}),o.a.createElement("div",{style:gn.codeControlsContainer},o.a.createElement(De,{example:n,locked:"running"===t,onChangeExample:y}),o.a.createElement(ae,{mode:t,runDisabled:""===a.trim(),onClickRun:C,onClickEdit:S}),o.a.createElement(ke,{code:a})),o.a.createElement(je,{code:a,markers:c,locked:"editing"!==t,onChangeCode:w}),o.a.createElement(pn,null)),o.a.createElement("div",{style:gn.rightContainer},o.a.createElement("div",null,s.taskQueue&&o.a.createElement(ot,{title:"Task Queue",tasks:r,onClickAbout:M}),s.microtaskQueue&&o.a.createElement(ot,{title:"Microtask Queue",tasks:i,onClickAbout:I})),o.a.createElement("div",{style:gn.bottomRightContainer},s.callStack&&o.a.createElement(et,{frames:l,onClickAbout:N}),s.eventLoop&&o.a.createElement(Et,{step:g,onClickAbout:A}))),o.a.createElement(Ft,{visible:"visualizing"===t,isAutoPlaying:u,hasReachedEnd:k,onClickPauseAutoStep:x,onClickAutoStep:T,onClickStepBack:O,onClickStep:P}),o.a.createElement(un,{open:f,onClose:R}),o.a.createElement(fn,{open:d,onClose:L}),o.a.createElement(dn,{open:h,onClose:j}),o.a.createElement(hn,{open:p,onClose:Q})))},vn=function(e){return new Promise(function(t,n){try{var a=new WebSocket("wss://js-visualizer-9000-server.herokuapp.com");a.addEventListener("open",function(t){var n={type:"RunCode",payload:e};a.send(JSON.stringify(n))}),a.addEventListener("message",function(e){var r=JSON.parse(e.data);if(console.log("Events:",r),!r||!r[0]||"UncaughtError"===r[0].type){var o="SyntaxError"===y.a.get(r[0],"payload.error.name")?"Failed to run script due to syntax error.":"Failed to run script.";n(new Error(o))}else t(r);a.close()})}catch(r){n(Object(f.a)({},r,{message:"Failed to connect to backend: ".concat(r.message)}))}})},bn="\nfunction logA() { console.log('A') }\nfunction logB() { console.log('B') }\nfunction logC() { console.log('C') }\nfunction logD() { console.log('D') }\n\n// Click the \"RUN\" button to learn how this works!\nlogA();\nsetTimeout(logB, 0);\nPromise.resolve().then(logC);\nlogD();\n\n// NOTE:\n//   This is an interactive vizualization. So try \n//   editing this code and see what happens. You\n//   can also try playing with some of the examples \n//   from the dropdown!\n".trim();function yn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(g.a)(e);if(t){var r=Object(g.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(k.a)(this,n)}}var wn=function(e){return new Promise(function(t){return setTimeout(t,e)})},Cn=function(e){var t=e.type;return["EnterFunction","ExitFunction","EnqueueMicrotask","DequeueMicrotask","InitTimeout","BeforeTimeout","Rerender","ConsoleLog","ConsoleWarn","ConsoleError","ErrorFunction"].includes(t)},Sn=9999999999,xn=function(e){Object(p.a)(n,e);var t=yn(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tasks:[],microtasks:[],frames:[],markers:[],mode:"editing",code:bn,isAutoPlaying:!1,currentStep:"none",example:"none",isDrawerOpen:!1,visiblePanels:{taskQueue:!0,microtaskQueue:!0,callStack:!0,eventLoop:!0},showCallStackDescription:!1,showEventLoopDescription:!1,showTaskQueueDescription:!1,showMicrotaskQueueDescription:!1},e.currEventIdx=0,e.events=[],e.snackbarIds=[],e.handleOpenDrawer=function(){return e.setState({isDrawerOpen:!0})},e.handleCloseDrawer=function(){return e.setState({isDrawerOpen:!1})},e.handleChangeVisiblePanel=function(t){return function(){var n=e.state.visiblePanels,a=n[t];e.setState({visiblePanels:Object(f.a)({},n,Object(m.a)({},t,!a))})}},e.handleShowCallStackDescription=function(){return e.setState({showCallStackDescription:!0})},e.handleHideCallStackDescription=function(){return e.setState({showCallStackDescription:!1})},e.handleShowEventLoopDescription=function(){return e.setState({showEventLoopDescription:!0})},e.handleHideEventLoopDescription=function(){return e.setState({showEventLoopDescription:!1})},e.handleShowTaskQueueDescription=function(){return e.setState({showTaskQueueDescription:!0})},e.handleHideTaskQueueDescription=function(){return e.setState({showTaskQueueDescription:!1})},e.handleShowMicrotaskQueueDescription=function(){return e.setState({showMicrotaskQueueDescription:!0})},e.handleHideMicrotaskQueueDescription=function(){return e.setState({showMicrotaskQueueDescription:!1})},e.handleChangeExample=function(t){var n=t.target.value;e.setState({code:"none"===n?"":n,example:t.target.value}),e.transitionToEditMode()},e.handleChangeCode=function(t){e.setState({code:t}),localStorage.setItem("code",t)},e.handleClickEdit=function(){e.transitionToEditMode()},e.handleClickRun=Object(u.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.code,e.hideAllSnackbars(),e.setState({mode:"running",frames:[],tasks:[],microtasks:[],markers:[],isAutoPlaying:!1,currentStep:"none"}),t.prev=3,t.next=6,vn(n);case 6:a=t.sent,e.currEventIdx=0,e.events=a,e.setState({mode:"visualizing",currentStep:"evaluateScript"}),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(3),e.currEventIdx=0,e.showSnackbar("error",t.t0.message),e.setState({mode:"editing",currentStep:"none"}),console.error(t.t0);case 18:case"end":return t.stop()}},t,null,[[3,12]])})),e.handleClickPauseAutoStep=function(){e.setState({isAutoPlaying:!1})},e.handleClickAutoStep=function(){e.autoPlayEvents()},e.handleClickStep=function(){e.playNextEvent()},e.showSnackbar=function(t,n){var a=e.props.enqueueSnackbar,r=v()();e.snackbarIds.push(r),a(n,{key:r,variant:t,autoHideDuration:Sn,action:o.a.createElement(S.a,{color:"inherit"},o.a.createElement(T.a,null)),anchorOrigin:{vertical:"top",horizontal:"right"}})},e.hideAllSnackbars=function(){var t=e.props.closeSnackbar;e.snackbarIds.forEach(function(e){t(null,"Programmatically hiding all snackbars",e)})},e.transitionToEditMode=function(){e.hideAllSnackbars(),e.setState({mode:"editing",frames:[],tasks:[],microtasks:[],markers:[],isAutoPlaying:!1,currentStep:"none"})},e.hasReachedEnd=function(){return e.currEventIdx>=e.events.length},e.getCurrentEvent=function(){return e.events[e.currEventIdx]},e.seekToNextPlayableEvent=function(){for(;!e.hasReachedEnd()&&!Cn(e.getCurrentEvent());){var t=e.getCurrentEvent(),n=t.type,a=t.payload,r=a.name,o=a.message;"UncaughtError"===n&&e.showSnackbar("error","Uncaught ".concat(r," Exception: ").concat(o)),"EarlyTermination"===n&&e.showSnackbar("warning",o),e.currEventIdx+=1}},e.playNextEvent=function(){var t=e.state.markers;if(e.seekToNextPlayableEvent(),e.getCurrentEvent()){var n=e.getCurrentEvent(),a=n.type,r=n.payload,o=r.id,i=r.name,l=r.callbackName,c=r.start,s=r.end,u=r.message;"ConsoleLog"===a&&e.showSnackbar("info",u),"ConsoleWarn"===a&&e.showSnackbar("warning",u),"ConsoleError"===a&&e.showSnackbar("error",u),"ErrorFunction"===a&&e.showSnackbar("error",'Uncaught Exception in "'.concat(i,'": ').concat(u)),"EnterFunction"===a&&(e.setState({markers:t.concat({start:c,end:s})}),e.pushCallStackFrame(i)),"ExitFunction"===a&&(e.setState({markers:t.slice(0,t.length-1)}),e.popCallStackFrame()),"EnqueueMicrotask"===a&&e.enqueueMicrotask(i),"DequeueMicrotask"===a&&e.dequeueMicrotask(),"InitTimeout"===a&&e.enqueueTask(o,l),"BeforeTimeout"===a&&e.dequeueTask(o),e.currEventIdx+=1,e.seekToNextPlayableEvent();var m=e.getCurrentEvent(),f=void 0===m?"rerender":"Rerender"===m.type?"rerender":"BeforeTimeout"===m.type?"runTask":"DequeueMicrotask"===m.type?"runMicrotasks":void 0;f&&e.setState({currentStep:f}),["DequeueMicrotask","BeforeTimeout"].includes(a)&&"EnterFunction"===m.type&&e.playNextEvent()}},e.autoPlayEvents=function(){e.setState({isAutoPlaying:!0},Object(u.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("visualizing"!==e.state.mode||!e.state.isAutoPlaying){t.next=9;break}if(!e.playNextEvent()){t.next=5;break}return e.setState({isAutoPlaying:!1}),t.abrupt("break",9);case 5:return t.next=7,wn(500);case 7:t.next=0;break;case 9:case"end":return t.stop()}},t)})))},e.pushCallStackFrame=function(t){var n=e.state.frames.concat({id:v()(),name:t});e.setState({frames:n})},e.popCallStackFrame=function(){var t=e.state.frames,n=t.slice(0,t.length-1);e.setState({frames:n})},e.enqueueMicrotask=function(t){var n=e.state.microtasks.concat({id:v()(),name:t});e.setState({microtasks:n})},e.dequeueMicrotask=function(){var t=e.state.microtasks.slice(1);e.setState({microtasks:t})},e.enqueueTask=function(t,n){var a=e.state.tasks.concat({id:t,name:n});e.setState({tasks:a})},e.dequeueTask=function(t){var n=e.state.tasks.filter(function(e){return e.id!==t});e.setState({tasks:n})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search),t=atob(e.get("code")||"")||localStorage.getItem("code")||bn;this.setState({code:t})}},{key:"render",value:function(){var e=this.state,t=e.tasks,n=e.microtasks,a=e.frames,r=e.markers,i=e.mode,l=e.example,c=e.code,s=e.isAutoPlaying,u=e.isDrawerOpen,m=e.visiblePanels,f=e.currentStep,d=e.showCallStackDescription,h=e.showEventLoopDescription,p=e.showTaskQueueDescription,k=e.showMicrotaskQueueDescription;return o.a.createElement(En,{mode:i,example:l,code:c,tasks:t,microtasks:n,frames:a,markers:r,visiblePanels:m,isAutoPlaying:s,isDrawerOpen:u,showCallStackDescription:d,showEventLoopDescription:h,showTaskQueueDescription:p,showMicrotaskQueueDescription:k,hasReachedEnd:this.hasReachedEnd(),currentStep:f,onChangeVisiblePanel:this.handleChangeVisiblePanel,onCloseDrawer:this.handleCloseDrawer,onOpenDrawer:this.handleOpenDrawer,onChangeExample:this.handleChangeExample,onChangeCode:this.handleChangeCode,onClickRun:this.handleClickRun,onClickEdit:this.handleClickEdit,onClickPauseAutoStep:this.handleClickPauseAutoStep,onClickAutoStep:this.handleClickAutoStep,onClickStepBack:function(){},onClickStep:this.handleClickStep,onShowCallStackDescription:this.handleShowCallStackDescription,onHideCallStackDescription:this.handleHideCallStackDescription,onShowEventLoopDescription:this.handleShowEventLoopDescription,onHideEventLoopDescription:this.handleHideEventLoopDescription,onShowTaskQueueDescription:this.handleShowTaskQueueDescription,onHideTaskQueueDescription:this.handleHideTaskQueueDescription,onShowMicrotaskQueueDescription:this.handleShowMicrotaskQueueDescription,onHideMicrotaskQueueDescription:this.handleHideMicrotaskQueueDescription})}}]),n}(r.Component),Tn=Object(w.withSnackbar)(xn),On=function(){return o.a.createElement(w.SnackbarProvider,{maxSnack:4},o.a.createElement(Tn,null))};l.a.render(o.a.createElement(On,null),document.getElementById("root"))},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(173);Object.defineProperty(t,"SnackbarProvider",{enumerable:!0,get:function(){return o(a).default}});var r=n(247);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"withSnackbar",{enumerable:!0,get:function(){return o(r).default}})}},[[164,1,2]]]);
//# sourceMappingURL=main.b99ad4b2.chunk.js.map